class Swipe{constructor(element){this.xDown=null;this.yDown=null;this.element=typeof(element)==='string'?document.querySelector(element):element;this.element.addEventListener('touchstart',function(evt){this.xDown=evt.touches[0].clientX;this.yDown=evt.touches[0].clientY}.bind(this),!1)}
onLeft(callback){this.onLeft=callback;return this}
onRight(callback){this.onRight=callback;return this}
onUp(callback){this.onUp=callback;return this}
onDown(callback){this.onDown=callback;return this}
handleTouchMove(evt){if(!this.xDown||!this.yDown){return}
var xUp=evt.touches[0].clientX;var yUp=evt.touches[0].clientY;this.xDiff=this.xDown-xUp;this.yDiff=this.yDown-yUp;if(Math.abs(this.xDiff)>Math.abs(this.yDiff)){if(this.xDiff>0){this.onLeft()}else{this.onRight()}}else{if(this.yDiff>0){this.onUp()}else{this.onDown()}}
this.xDown=null;this.yDown=null}
run(){this.element.addEventListener('touchmove',function(evt){this.handleTouchMove(evt).bind(this)}.bind(this),!1)}}
jQuery(document).ready(function($){var WinWidth=jQuery(window).width();jQuery('.retractLeftCont').on('click',function(){if($(this).hasClass('turn')){jQuery(this).removeClass('turn');$('#content #leftContent').toggleClass('visible').toggleClass('nonvisible')}else{jQuery(this).addClass('turn');$('#content #leftContent').toggleClass('nonvisible').toggleClass('visible')}});jQuery('.faClose').on('click',function(){jQuery(this).addClass('turn');$('#content #leftContent').addClass('nonvisible').removeClass('visible')});var swiper=new Swipe(document.getElementById('leftContent'));swiper.onLeft(function(){jQuery(this).addClass('turn');$('#content #leftContent').addClass('nonvisible').removeClass('visible')});swiper.run();if(WinWidth<770){jQuery('.menuRespons').on('click',function(){jQuery('#mainHeaderMenu').toggleClass('RespShow')})}
if(WinWidth>770){jQuery('#mainHeaderMenu').removeClass('RespShow')}
$('#imageFond').change(function(e){var $form=$("#my_form");var formdata=(window.FormData)?new FormData($form[0]):null;var data=(formdata!==null)?formdata:$form.serialize();$.ajax({url:$form.attr('action'),type:$form.attr('method'),contentType:!1,processData:!1,data:data,success:function(response){$('body').attr("style","background-image:url('"+zBasePath+"assets/common/upload/"+response.trim()+"')")}})});jQuery("#nav").ferroMenu({position:"left-center",delay:50,rotation:720,margin:0});jQuery(".ferromenu-controller").on("click",function(){$.fn.ferroMenu.toggleMenu("#nav")});jQuery(window).on("scroll",function(){$.fn.ferroMenu.refreshMenu()});var menPrent=jQuery('.SSmenu').parent(),menCh=jQuery('.hasChild');menPrent.each(function(){jQuery(this).on('click',function(){var zCicleCass=jQuery(this).attr("cibleli");jQuery('.'+zCicleCass).hide();jQuery('.SSmenu').slideUp();jQuery(this).children('.SSmenu').toggle(200)});jQuery(this).hover(function(){jQuery('.sipamFormation').hide();jQuery('.sipamSAD').hide();jQuery('.sipamRH').hide();jQuery('.sipamFlux').hide();var zCicleCass=jQuery(this).attr("cibleli");if(jQuery(this).children('.SSmenu').is(':visible')){jQuery('.'+zCicleCass).hide()}else{jQuery('.'+zCicleCass).show()}})});menCh.each(function(){var linkElemns=jQuery(this).find('a');var targetElems=linkElemns.next('div');linkElemns.hover(function(){jQuery('.hasChild > div').hide();targetElems.show();setTimeout(function(){targetElems.hide()},7000)})});jQuery('.ferromenu-controller .layout').on('click',function(){jQuery('.SSmenu').slideUp();jQuery('.hasChild > div').hide()});jQuery('.hasChild > div').mouseleave(function(){jQuery(this).hide});var OptionMen=jQuery('.optionpage'),OptionBlock=jQuery('.dropdown-optionpage');OptionMen.on('click',function(event){jQuery(this).parent('.OptMn').toggleClass('activated')});$(document).mouseup(function(e){var container=$('.OptMn');if(!container.is(e.target)&&container.has(e.target).length===0){container.removeClass('activated')}});jQuery('ul.nav li.dropdown').hover(function(){jQuery(this).find('.jqueryFadeIn').stop(!0,!0).delay(200).fadeIn()},function(){jQuery(this).find('.jqueryFadeIn').stop(!0,!0).delay(200).fadeOut()});jQuery('#optTab').tabs();jQuery("#slideCom").bxSlider({mode:'fade',captions:!0,nextText:'Next',prevText:'Prev',auto:!0,autoStart:!0,autoDelay:2000,pager:!1});$(".theme-list [data-theme]").on("click",function(){var t=zBasePath+"assets/common/css/"+$(this).attr("data-theme")+".css?0706201805";var zBackground="background:url('"+zBasePath+"assets/common/img/"+$(this).attr("data-theme")+"-fond.jpg?0706201805');background-size: auto;background-attachment: fixed;";$("body").removeAttr("style");$("body").attr("style",zBackground);var tSticky=zBasePath+"assets/common/css/stickymenu-"+$(this).attr("data-theme")+".css?0706201805";$("#theming").attr("href",t),$(".theme-list [data-theme]").not(this).closest("li").removeClass("active"),$(this).closest("li").addClass("active");$("#stickyF").attr("href",tSticky);$.ajax({url:zBasePath+"common/saveChangeTheme",type:'post',data:{zTheme:$(this).attr("data-theme"),zFond:$(this).attr("data-theme")+"-fond"},success:function(data,textStatus,jqXHR){},async:!1})})
var STargetDecl=$('#searchAcc .encadre h2');STargetDecl.on('click',function(){$('#searchAcc .encadre form').hide();$(this).next('form').slideToggle();return(!1)});jQuery("a.switcher").bind("click",function(e){e.preventDefault();var theid=jQuery(this).attr("id");var theproducts=jQuery("ul#products");var classNames=jQuery(this).attr('class').split(' ');if(jQuery(this).hasClass("active")){return!1}else{if(theid=="gridview"){jQuery(this).addClass("active");jQuery("#listview").removeClass("active");jQuery("#listview").children("img").attr("src","images/list-view.png");theproducts.removeClass("list");theproducts.addClass("grid")}else if(theid=="listview"){jQuery(this).addClass("active");jQuery("#gridview").removeClass("active");jQuery("#gridview").children("img").attr("src","images/grid-view.png");theproducts.removeClass("grid")
theproducts.addClass("list")}}});$('#btn-add').click(function(){$('#select-from option:selected').each(function(){$('#select-to').append("<option value='"+$(this).val()+"'>"+$(this).text()+"</option>");$(this).remove();ajaxmultiselect()})});$('#btn-remove').click(function(){$('#select-to option:selected').each(function(){$('#select-from').append("<option value='"+$(this).val()+"'>"+$(this).text()+"</option>");$(this).remove();ajaxmultiselect()})});$('#btn-up').bind('click',function(){$('#select-to option:selected').each(function(){var newPos=$('#select-to option').index(this)-1;if(newPos>-1){$('#select-to option').eq(newPos).before("<option value='"+$(this).val()+"' selected='selected'>"+$(this).text()+"</option>");$(this).remove();ajaxmultiselect()}})});$('#btn-down').bind('click',function(){var countOptions=$('#select-to option').size();$('#select-to option:selected').each(function(){var newPos=$('#select-to option').index(this)+1;if(newPos<countOptions){$('#select-to option').eq(newPos).after("<option value='"+$(this).val()+"' selected='selected'>"+$(this).text()+"</option>");$(this).remove();ajaxmultiselect()}})});$(".dialog-link-localite").click(function(event){$("#dialog2").html();var iUserId=$(this).attr("iAgentId");$.ajax({url:zBasePath+"critere/getInfoUserChangeLocalite/"+iUserId,type:'get',data:{iEvaluateur:1},success:function(data,textStatus,jqXHR){$("#dialog2").html(data);$("#dialog2").dialog("open");event.preventDefault()},async:!1})});$(".dialog-link-manuel-localite").click(function(event){$("#dialog3").html();var iUserId=$(this).attr("iAgentId");$.ajax({url:zBasePath+"critere/getInfoChangeManuel/"+iUserId,type:'get',data:{iEvaluateur:1},success:function(data,textStatus,jqXHR){$("#dialog3").html(data);$("#dialog3").dialog("open");event.preventDefault()},async:!1})});$('ul.tabs li').click(function(){var tab_id=$(this).attr('data-tab');var iModeId=$(this).attr('iModeId');$('ul.tabs li').removeClass('current');$('.tab-content').removeClass('current');$(this).addClass('current');$("#"+tab_id).addClass('current')})
$("#dialog").dialog({autoOpen:!1,width:'75%',title:'Fiche note Ã©valuation',close:'X',modal:!0,closeOnEscape:!0,buttons:[{text:"Valider",click:function(){}},{text:"Annuler",click:function(){$(this).dialog("close")}}]});$("#dialog4").dialog({autoOpen:!1,width:'60%',title:'Notification',close:'X',modal:!0,closeOnEscape:!0,buttons:[{text:"Valider",click:function(){var iTest=0;var zListe="";$('.approuver').each(function(){var iValue=$(this).is(':checked');if(iValue==!0){iUserId=$(this).attr("getUserId");if(zListe==''){zListe+=iUserId;iTest=1}else{zListe+="-"+iUserId;iTest=1}}})
if(iTest==0){alert("Veuillez cocher au moins un agent si vous voulez valider")}else{$.ajax({url:zBasePath+"critere/saveUpdateUser/",method:"POST",data:{zListe:zListe},success:function(data,textStatus,jqXHR){$("#dialog4").dialog("close");document.location.href='http://rohi.dev/critere/liste/agent-evaluation/a-evaluer/2'},async:!1})}}},{text:"Annuler",click:function(){$(this).dialog("close")}}]});$(".dialog-link, #icons li").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")});toggleBloc();scrollToTop()});function scrollToTop(){$('.panel.panel-default .panel-collapse').on('shown.bs.collapse',function(){$('html, body').animate({scrollTop:$(this).offset().top},750)})}
function ajaxmultiselect(){var input=[];var select=document.evaluation.selectto;var status=document.evaluation.zListeAgent;for(var i=0;i<select.options.length;i++){input.push(select.options[i].value)}
status.value=input.join("-")}
function toggleBloc(){$(".blocPartenaire .blocToggle .child").hide();$(".toggleBloc").each(function(){$(this).click(function(){$(this).siblings(".child").slideToggle();$(this).parent().toggleClass("show")})})}
function validerReclassement(){var iRet=1;$(document).ready(function(){$(".obligatoire").each(function(){$(this).parent().removeClass("error");if($(this).val()==""){$(this).parent().addClass("error");iRet=0}});$("#iInstitutSearchMessage").parent().removeClass("error");if($("#iInstituId").select2('val')==''){iRet=0;$("#iInstitutSearchMessage").parent().addClass("error")}else{$("#iInstitutSearchMessage").parent().removeClass("error")}
$("#iDiplomeSearchMessage").parent().removeClass("error");if($("#iDiplomeId").select2('val')==''){iRet=0;$("#iDiplomeSearchMessage").parent().addClass("error")}else{$("#iDiplomeSearchMessage").parent().removeClass("error")}
$("#iUserSearchMessage").parent().removeClass("error");if($("#iUserId").select2('val')==''){iRet=0;$("#iUserSearchMessage").parent().addClass("error")}else{$("#iUserSearchMessage").parent().removeClass("error")}
if(iRet==1){$("#formulaireEdit").submit()}})}