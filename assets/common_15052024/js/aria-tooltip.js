(function($){'use strict';var tooltipsArray=[],methods={},count=0,a={aHi:'aria-hidden',aDes:'aria-describedby',r:'role',t:'true',f:'false'};function setId(element,id,i){if(!element.is('[id]')){element.attr('id',id+(i+1))}}
function getTooltip(element){return $('#'+element.attr(a.aDes))}
function getTooltipIndex(elementWithTooltip){var i=0,l=tooltipsArray.length,elementWithTooltipId=elementWithTooltip.attr('id'),indexTooltip=0;for(i;i<l;i=i+1){indexTooltip=tooltipsArray[i][0].indexOf(elementWithTooltipId);if(indexTooltip!==-1){return i}}}
function getBreakpoint(breakpointsArray){var l=breakpointsArray.length-1,screenWidth=$(window).width();for(l;l>=0;l=l-1){if(screenWidth>=breakpointsArray[l]){return l}}}
function getElementWidthAndHeight(element){return{height:element.outerHeight(),width:element.outerWidth()}}
function getElementPosition(element){var elementPosition=element.position();return{left:elementPosition.left-$(window).scrollLeft(),top:elementPosition.top-$(window).scrollTop()}}
function checkForSpecialKeys(event){if(!event.shiftKey&&!event.ctrlKey&&!event.altKey&&!event.metaKey){return!0}
return!1}
methods.init=function(userSettings,elementWithTooltip){var settings=$.extend({translateX:0,translateY:0,position:'top',modifierClass:'tooltip_top',responsive:!1,fadeSpeed:100,zIndex:10},userSettings),elements={elementWithTooltip:elementWithTooltip,tooltip:getTooltip(elementWithTooltip)},elementWithTooltipId='',breakpointsArray=[],responsiveSettings=[],responsiveSettingsArray=[],tooltipArray=[],i=0,l=0;setId(elementWithTooltip,'element-tt-',count);elementWithTooltipId=elementWithTooltip.attr('id');elements.tooltip.attr(a.r,'tooltip').attr(a.aHi,a.t).hide();if(settings.responsive){responsiveSettings=settings.responsive;delete settings.responsive;settings.modifierClass=!1;l=responsiveSettings.length;for(i;i<l;i=i+1){breakpointsArray.push(responsiveSettings[i].breakpoint);responsiveSettingsArray.push($.extend({},settings,responsiveSettings[i]))}}
tooltipArray.push(elementWithTooltipId,elements,settings,breakpointsArray,responsiveSettingsArray);tooltipsArray.push(tooltipArray);elements.elementWithTooltip.on('mouseenter focus',function(){methods.show(getTooltipIndex(elements.elementWithTooltip))});elements.elementWithTooltip.on('mouseout',function(){if(!elements.elementWithTooltip.is(':focus')){methods.hide(getTooltipIndex(elements.elementWithTooltip))}});elements.elementWithTooltip.on('blur',function(){methods.hide(getTooltipIndex(elements.elementWithTooltip))});$(window).on('resize scroll',function(){methods.hide(getTooltipIndex(elements.elementWithTooltip))});count=count+1};methods.show=function(index){var tooltip=tooltipsArray[index][1].tooltip,elementWithTooltip=tooltipsArray[index][1].elementWithTooltip,tooltipSize=getElementWidthAndHeight(tooltip),elementWithTooltipSize=getElementWidthAndHeight(elementWithTooltip),elementWithTooltipPosition=getElementPosition(elementWithTooltip),screenSize=getElementWidthAndHeight($(window)),breakpoint=tooltipsArray[index][3].length>0?getBreakpoint(tooltipsArray[index][3]):!1,settings=tooltipsArray[index][4].length>0?tooltipsArray[index][4][breakpoint]:tooltipsArray[index][2],left=0,top=0,bottom='auto';switch(settings.position){case 'screenTop':break;case 'top':left=elementWithTooltipPosition.left+elementWithTooltipSize.width/2-tooltipSize.width/2;top=elementWithTooltipPosition.top-tooltipSize.height;break;case 'right':left=elementWithTooltipPosition.left+150+elementWithTooltipSize.width;top=elementWithTooltipPosition.top+elementWithTooltipSize.height/2-tooltipSize.height/2;break;case 'bottom':left=elementWithTooltipPosition.left+elementWithTooltipSize.width/2-tooltipSize.width/2;top=elementWithTooltipPosition.top+elementWithTooltipSize.height;break;case 'left':left=elementWithTooltipPosition.left-tooltipSize.width;top=elementWithTooltipPosition.top+elementWithTooltipSize.height/2-tooltipSize.height/2;break;case 'screenBottom':bottom=0;top='auto';break}
tooltip.css({left:left,'line-height':'18px','font-size':'11px',top:top,bottom:bottom,'-webkit-transform':'translate('+settings.translateX+'rem, '+settings.translateY+'rem)','-moz-transform':'translate('+settings.translateX+'rem, '+settings.translateY+'rem)','-ms-transform':'translate('+settings.translateX+'rem, '+settings.translateY+'rem)',transform:'translate('+settings.translateX+'rem, '+settings.translateY+'rem)','z-index':settings.zIndex});if(settings.modifierClass!==!1){tooltip.addClass(settings.modifierClass)}
tooltip.attr(a.aHi,a.f).fadeIn(settings.fadeSpeed);$(window).on('keydown',function(event){if(event.keyCode===27&&checkForSpecialKeys(event)===!0){methods.hide(index)}})};methods.hide=function(index){var tooltip=tooltipsArray[index][1].tooltip,breakpoint=tooltipsArray[index][3].length>0?getBreakpoint(tooltipsArray[index][3]):!1,settings=tooltipsArray[index][4].length>0?tooltipsArray[index][4][breakpoint]:tooltipsArray[index][2],i=0,l=settings.length;tooltip.attr(a.aHi,a.t).fadeOut(settings.fadeSpeed,function(){if(Array.isArray(settings)){for(i;i<l;i=i+1){tooltip.removeClass(tooltipsArray[i][4].modifierClass)}}else{tooltip.removeClass(settings.modifierClass)}});$(window).unbind('keydown')};methods.destroy=function(index){methods.hide(index);tooltipsArray[index][1].tooltip.removeAttr(a.r);tooltipsArray[index][1].elementWithTooltip.removeAttr(a.aDes).unbind('focus blur mouseenter mouseout');tooltipsArray.splice(index,1)};methods.remove=function(index){tooltipsArray[index][1].tooltip.remove();tooltipsArray[index][1].elementWithTooltip.removeAttr(a.aDes).unbind('focus blur mouseenter mouseout');tooltipsArray.splice(index,1)};$.fn.ariaTooltip=function(userSettings){if(typeof userSettings==='object'||typeof userSettings==='undefined'){this.each(function(){methods.init(userSettings,$(this))});return}else{switch(userSettings){case 'show':methods.show(getTooltipIndex($(this)));break;case 'hide':methods.hide(getTooltipIndex($(this)));break;case 'destroy':this.each(function(){methods.destroy(getTooltipIndex($(this)))});break;case 'remove':this.each(function(){methods.remove(getTooltipIndex($(this)))});break}}}}(jQuery));$(document).ready(function(){'use strict';$('.has-tooltip').ariaTooltip({responsive:[{breakpoint:1,position:'screenBottom',fadeSpeed:100,modifierClass:'tooltip_screen-bottom'},{breakpoint:768,position:'top',modifierClass:'tooltip_top',translateY:-0.75},{breakpoint:992,position:'right',translateY:0,fadeSpeed:100,modifierClass:'tooltip_right',translateX:0.75}]})})